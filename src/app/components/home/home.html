<div class="home-container" [class.game-active-pulse]="mode === 'GAME'">
  
  @if (mode !== 'NONE') {
    <canvas #matrixCanvas class="matrix-overlay"></canvas>
  }

  <div class="content-wrapper fade-in-up">
    <mat-card class="info-card hover-glow">
      <mat-card-header>
        <mat-card-title class="app-title glitch-on-hover" data-text="DARKSTAR">DARKSTAR</mat-card-title>
        <mat-card-subtitle>Created by Victor Kane</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content> </mat-card-content>
    </mat-card>

    <footer class="footer">
      <p>&copy; 2025 Victor Kane. All Rights Reserved.</p>
      
      <div class="version-badge">
        <span class="version-text"
              (click)="handleVersionClick()"
              (keydown.enter)="handleVersionClick()"
              (keydown.space)="handleVersionClick()"
              tabindex="0"
              role="button"
              style="cursor: default; user-select: none;">
          Version {{ version }}
        </span>
        
        @if (updateService.versionLocked()) {
          <div class="status-indicator locked">
             <mat-icon>priority_high</mat-icon>
             <span>Locked</span>
          </div>
        } @else if (updateService.isChecking() || updateService.updateStatus() === 'checking') {
          <div class="status-indicator checking">
             <mat-spinner diameter="16" color="accent"></mat-spinner>
             <span>Checking...</span>
          </div>
        } @else if (updateService.updateStatus() === 'available' || updateService.updateStatus() === 'downloading') {
           <div class="status-indicator updating">
             <mat-spinner diameter="16" color="accent"></mat-spinner>
             <span>Updating...</span>
          </div>
        } @else if (updateService.updateStatus() === 'downloaded') {
           <div class="status-indicator ready"
                (click)="updateService.quitAndInstall()"
                (keydown.enter)="updateService.quitAndInstall()"
                (keydown.space)="updateService.quitAndInstall()"
                tabindex="0"
                role="button"
                style="cursor: pointer">
             <mat-icon>system_update</mat-icon>
             <span>Restart to Install</span>
          </div>
        } @else {
           <!-- Idle / Not Available (Up to Date) -->
           <div class="status-indicator up-to-date">
             <mat-icon>check_circle</mat-icon>
             <span>Up to date</span>
          </div>
        }
      </div>
    </footer>
  </div>
</div>
