// Include theming for Angular Material with `mat.theme()`.
// This Sass mixin will define CSS variables that are used for styling Angular Material
// components according to the Material 3 design spec.
// Learn more about theming and how to use it for your application's
// custom components at https://material.angular.dev/guide/theming
@use '@angular/material' as mat;
@use './app/styles/themes';
@use './app/styles/glass';
@import 'material-icons/iconfont/material-icons.css';
@import 'prismjs/themes/prism-tomorrow.css';

html,
body {
  height: 100%;
}

body {
  margin: 0;
  font-family: 'Roboto', sans-serif;
  overflow: hidden; // Prevent body scroll (app content scrolls)

  // Dynamic Background using Theme Variables
  background: linear-gradient(-45deg, var(--mat-sys-surface-container-lowest), var(--mat-sys-surface-container-low), var(--mat-sys-surface-container), var(--mat-sys-surface-container-high));
  background-size: 400% 400%;
  animation: gradientBG 15s ease infinite;

  color: var(--mat-sys-on-surface);
}

@keyframes gradientBG {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

// Global Glass Variables
:root {
  color-scheme: dark; // Enforces dark mode on native browser elements (like standard scrollbars)
  --glass-bg: rgba(20, 20, 20, 0.4);
  --glass-bg-accent: rgba(64, 196, 255, 0.05);
  --glass-border: rgba(255, 255, 255, 0.1);
  --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
  --glass-text: #ffffff;
  --glass-text-muted: rgba(255, 255, 255, 0.5);
  --glass-glow: rgba(64, 196, 255, 0.4);
  --glass-input-bg: rgba(255, 255, 255, 0.03);
}


// Global Scrollbar Polish
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2); // Darker track
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2); // Semi-transparent white
  border-radius: 5px;
  border: 2px solid rgba(0, 0, 0, 0.2); // Creates padding effect between thumb and track
  background-clip: padding-box;
  transition: background 0.3s ease;

  &:hover {
    background: rgba(255, 255, 255, 0.4); // Brighter on hover
    background-clip: padding-box;
  }
}

@include themes.apply-themes;

.app-title {
  font-weight: 700;
  letter-spacing: 2px;
  background: linear-gradient(to right, var(--mat-sys-on-surface) 20%, var(--mat-sys-primary) 40%, var(--mat-sys-primary) 60%, var(--mat-sys-on-surface) 80%);
  background-size: 200% auto;
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: shine 5s linear infinite;

  @media (max-width: 768px) {
    font-size: 1.5rem !important;
    letter-spacing: 2px !important;
  }
}

body.light-theme .app-title {
  background: linear-gradient(to right, var(--mat-sys-primary) 0%, var(--mat-sys-tertiary) 50%, var(--mat-sys-primary) 100%);
  background-size: 200% auto;
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

@keyframes shine {
  to {
    background-position: 200% center;
  }
}

// Legacy Warning Snackbar
.legacy-warning-snackbar {
  --mdc-snackbar-container-color: #d32f2f; // Material Red 700
  --mdc-snackbar-supporting-text-color: #ffffff;
  --mat-snack-bar-button-color: #ffffff;

  .mdc-snackbar__surface {
    border: 2px solid #ffcdd2; // Light Red Border
    box-shadow: 0px 4px 20px rgba(211, 47, 47, 0.4);
    animation: snackbar-pulse 2s infinite;
  }
}

@keyframes snackbar-pulse {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(211, 47, 47, 0.7);
  }
  70% {
    transform: scale(1.02);
    box-shadow: 0 0 0 10px rgba(211, 47, 47, 0);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(211, 47, 47, 0);
  }
}
